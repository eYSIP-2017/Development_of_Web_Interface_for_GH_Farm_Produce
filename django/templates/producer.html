{% extends "base.html" %}
{% load static %}
{% load bootstrap3 %}

{% block navlist %}
	<ul class="navbar-nav mr-auto justify-content-between">
    <li class="nav-item">
        <a class="nav-link {% if page == "home" %}active{% endif %}" href="/producer/home" >Home</a>
    </li>
    <li class="nav-item">
        <a class="nav-link {% if page == "inventory" %}active{% endif %}" href="/producer/inventory">Inventory</a>
    </li>
    <li class="nav-item">
        <a class="nav-link {% if page == "analytics" %}active{% endif %}" href="/producer/analytics/">Analytics</a>
    </li>
    <li class="nav-item">
        <a class="nav-link {% if page == "orders" %}active{% endif %}" href="#">Orders</a>
    </li>
  </ul>
  <ul class="navbar-nav">
  	<li class="nav-item mt-2">
  		<a href="#" class="dropdown-toggle" href="https://example.com" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color: white; text-decoration: none">
  			{{ request.session.email }}
  		</a>
  		<div class="dropdown-menu dropdown-menu-right">
	    <a class="dropdown-item h-100" href="#"><span class="fa fa-user"></span>   Profile</a>
	    <a class="dropdown-item h-100" href="#"><span class="fa fa-bell"></span>   Alerts <span class="badge badge-default badge-pill">0</span></a>
	    <a class="dropdown-item" href="#"><span class="fa fa-shopping-cart"></span>    Orders</a>
	    <div class="dropdown-divider"></div>
	    <a class="dropdown-item" href="/logout"><span class="fa fa-sign-out"></span>    Logout</a>
	  </div>
  	</li>
  </ul>
{% endblock navlist %}


{% block content %}

<h1>Produce:</h1>
<table class="table table-striped table-bordered">
  <thead class="thead-inverse">
    <tr>
      <th>#</th>
      <th>Crop</th>
      <th>Weight</th>
      <th>Machine</th>
      <th>Trough</th>
      <th>Date of Produce</th>
      <th>Date of Expiry</th>
      <th>Image</th>
    </tr>
  </thead>
  <tbody>
  	{%for entry in produce%}
    <tr>
      <td>{{forloop.counter}}</td>
      <td>{{entry.crop_id}}</td>
      <td>{{entry.weight}}g</td>
      <td>{{entry.machine_id}}</td>
      <td>{{entry.trough_id}}</td>
      <td>{{entry.date_of_produce}}</td>
      <td>{{entry.date_of_expiry}}</td>
      <td><a href="#" data-toggle="modal" data-target="#{{forloop.counter}}"><img src="{% static entry.image %}"  width=28 height=28></a></td>
    </tr> 
    {%endfor%}
  </tbody>
</table>
<!-- Modal -->
{%for entry in produce%}
<div class="modal fade hidden" id="{{forloop.counter}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header hidden">
        <h5 class="modal-title hidden" id="exampleModalLabel">{{entry.crop_id}}</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
       	<img src="{% static entry.image %}" style="height: inherit; width: 100%">
      </div>

    </div>
  </div>
</div>
{% endfor %}
{% endblock content %}





